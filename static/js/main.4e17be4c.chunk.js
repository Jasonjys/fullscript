(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,n){e.exports=n(205)},121:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(4),c=n.n(o),u=(n(121),n(36)),i=n(37),s=n(41),l=n(38),h=n(42),d=n(15),p=n(16),g=n(51),f=n.n(g),m=n(75),v=n(103),y=new(n.n(v).a)({applicationId:"8f3df15296907de99132e2257dea5c4a9e16dbe87e7ae9e078ee0c543cd7c66f",secret:"ccff5c77adf78b52dc5e546678fbaa8365874b901ea8154df139a1995ec6a606"}),b=["popular","oldest","latest"],O=r.a.createContext(),S=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={currentPage:1,pageSize:10,orderedBy:b[0],photos:[],loading:!0,error:!1,queryTerm:"",userInput:"",total:0},n.getListPhotos=Object(m.a)(f.a.mark(function e(){var t,a,r,o,c,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),t=n.state,a=t.currentPage,r=t.pageSize,o=t.orderedBy,e.prev=2,e.next=5,y.photos.listPhotos(a,r,o);case 5:return c=e.sent,e.next=8,c.json();case 8:u=e.sent,n.setState({photos:u,loading:!1,total:100}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),n.setState({loading:!1,error:!0}),console.log(e.t0);case 16:case"end":return e.stop()}},e,null,[[2,12]])})),n.searchPhotosByTerm=function(){var e=Object(m.a)(f.a.mark(function e(t){var a,r,o,c,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),a=n.state,r=a.currentPage,o=a.pageSize,e.prev=2,e.next=5,y.search.photos(t,r,o);case 5:return c=e.sent,e.next=8,c.json();case 8:u=e.sent,console.log("searchResult: ",u),n.setState({total:u.total,photos:u.results,loading:!1}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),n.setState({loading:!1,error:!0}),console.log(e.t0);case 17:case"end":return e.stop()}},e,null,[[2,13]])}));return function(t){return e.apply(this,arguments)}}(),n.handleTermSearch=function(e){n.setState({queryTerm:e}),n.searchOrGet(e,!0)},n.searchOrGet=function(e,t){t?n.setState({currentPage:1},function(){e?n.searchPhotosByTerm(e):n.getListPhotos()}):e?n.searchPhotosByTerm(e):n.getListPhotos()},n.updateUserInput=function(e){n.setState({userInput:e})},n.changeOrderedBy=function(e){n.setState({orderedBy:e,currentPage:1,userInput:"",queryTerm:""},function(){n.getListPhotos()})},n.changePageSize=function(e){n.setState({pageSize:e},function(){var e=n.state.queryTerm;n.searchOrGet(e)})},n.changePage=function(e){n.setState({currentPage:e},function(){var e=n.state.queryTerm;n.searchOrGet(e)})},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getListPhotos()}},{key:"render",value:function(){return r.a.createElement(O.Provider,{value:{state:this.state,orderedByOptions:b,getListPhotos:this.getListPhotos,changeOrderedBy:this.changeOrderedBy,changePage:this.changePage,changePageSize:this.changePageSize,handleTermSearch:this.handleTermSearch,updateUserInput:this.updateUserInput}},this.props.children)}}]),t}(a.Component),j=n(10),w=n(206),P=n(208);function E(){var e=Object(d.a)(["\n  max-width: 100%;\n  height: auto;\n  display: block\n"]);return E=function(){return e},e}function x(){var e=Object(d.a)(["\n  display: inline-block;\n  width: 100%;\n  margin: 0 0 2px;\n  &:hover {\n    box-shadow: 0 2px 8px rgba(0,0,0,0.30);\n    border-color: rgba(0,0,0,0.09);\n    cursor: pointer;\n  }\n"]);return x=function(){return e},e}var k=p.a.div(x()),B=p.a.img(E()),z=function(e){var t=e.photo;return r.a.createElement(k,null,r.a.createElement(B,{alt:"photo",src:t.urls.regular}))};function C(){var e=Object(d.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n"]);return C=function(){return e},e}function T(){var e=Object(d.a)(["\n  display: flex;\n  height: 100vh;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n"]);return T=function(){return e},e}function I(){var e=Object(d.a)(["\n  column-count: 3;\n"]);return I=function(){return e},e}var L=p.a.div(I()),q=p.a.div(T()),G=p.a.div(C()),U=r.a.createElement(j.a,{type:"loading",style:{fontSize:24},spin:!0}),J=function(){var e=Object(a.useContext)(O),t=e.state,n=e.changePageSize,o=e.changePage;return t.error?r.a.createElement(q,null,"Something went wrong"):t.loading?r.a.createElement(q,null,r.a.createElement(w.a,{indicator:U})):t.loading||t.photos.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(L,null,t.photos.map(function(e){return r.a.createElement(z,{photo:e,key:e.id})})),r.a.createElement(G,null,r.a.createElement(P.a,{showSizeChanger:!0,total:t.total,defaultCurrent:1,pageSize:t.pageSize,pageSizeOptions:["10","20","30"],current:t.currentPage,onChange:function(e){o(e)},onShowSizeChange:function(e,t){n(t)}}))):r.a.createElement(q,null,"No result")},W=n(207).a.Search,A=function(){var e=Object(a.useContext)(O),t=e.state,n=e.handleTermSearch,o=e.updateUserInput;return r.a.createElement(W,{enterButton:!0,style:{width:"40%"},placeholder:"search here...",onChange:function(e){return o(e.target.value)},onSearch:function(e){return n(e)},value:t.userInput})},D=n(49),F=D.a.Option,M=function(){var e=Object(a.useContext)(O),t=e.changeOrderedBy,n=e.orderedByOptions;return r.a.createElement(D.a,{defaultValue:n[0],placeholder:"Ordered By",style:{marginLeft:"10px",width:150}},n.map(function(e){return r.a.createElement(F,{key:e,value:e,onClick:function(){return t(e)}},e)}))};function N(){var e=Object(d.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  margin: 10px;\n"]);return N=function(){return e},e}var R=p.a.div(N()),V=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(R,null,r.a.createElement(A,null),r.a.createElement(M,null))}}]),t}(a.Component);n(204);function $(){var e=Object(d.a)(["\n  padding: 15px;\n"]);return $=function(){return e},e}var H=p.a.div($()),K=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(S,null,r.a.createElement(H,null,r.a.createElement(V,null),r.a.createElement(J,null)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[116,1,2]]]);
//# sourceMappingURL=main.4e17be4c.chunk.js.map