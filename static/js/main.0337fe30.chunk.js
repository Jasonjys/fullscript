(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,n){e.exports=n(208)},124:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(4),c=n.n(o),i=(n(124),n(48)),u=n.n(i),l=n(80),s=n(55),h=n(56),d=n(63),p=n(57),g=n(64),f=n(107),m=new(n.n(f).a)({applicationId:"8f3df15296907de99132e2257dea5c4a9e16dbe87e7ae9e078ee0c543cd7c66f",secret:"ccff5c77adf78b52dc5e546678fbaa8365874b901ea8154df139a1995ec6a606"}),v=["popular","oldest","latest"],O=r.a.createContext(),b=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={currentPage:1,pageSize:10,orderedBy:v[0],photos:[],loading:!0,error:!1,queryTerm:"",userInput:"",isPhotoOpened:!1,total:0,photo:null,isImgLoading:!0},n.getListPhotos=Object(l.a)(u.a.mark(function e(){var t,a,r,o,c,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),t=n.state,a=t.currentPage,r=t.pageSize,o=t.orderedBy,e.prev=2,e.next=5,m.photos.listPhotos(a,r,o);case 5:return c=e.sent,e.next=8,c.json();case 8:i=e.sent,n.setState({photos:i,loading:!1,total:100}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),n.setState({loading:!1,error:!0}),console.log(e.t0);case 16:case"end":return e.stop()}},e,null,[[2,12]])})),n.searchPhotosByTerm=function(){var e=Object(l.a)(u.a.mark(function e(t){var a,r,o,c,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),a=n.state,r=a.currentPage,o=a.pageSize,e.prev=2,e.next=5,m.search.photos(t,r,o);case 5:return c=e.sent,e.next=8,c.json();case 8:i=e.sent,console.log("searchResult: ",i),n.setState({total:i.total,photos:i.results,loading:!1}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),n.setState({loading:!1,error:!0}),console.log(e.t0);case 17:case"end":return e.stop()}},e,null,[[2,13]])}));return function(t){return e.apply(this,arguments)}}(),n.handleTermSearch=function(e){n.setState({queryTerm:e}),n.searchOrGet(e,!0)},n.searchOrGet=function(e,t){t?n.setState({currentPage:1},function(){e?n.searchPhotosByTerm(e):n.getListPhotos()}):e?n.searchPhotosByTerm(e):n.getListPhotos()},n.updateUserInput=function(e){n.setState({userInput:e})},n.changeOrderedBy=function(e){n.setState({orderedBy:e,currentPage:1,userInput:"",queryTerm:""},function(){n.getListPhotos()})},n.changePageSize=function(e){n.setState({pageSize:e},function(){var e=n.state.queryTerm;n.searchOrGet(e)})},n.changePage=function(e){n.setState({currentPage:e},function(){var e=n.state.queryTerm;n.searchOrGet(e)})},n.openPhoto=function(e){n.setState({photo:e,isPhotoOpened:!0})},n.closePhoto=function(){n.setState({isPhotoOpened:!1,isImgLoading:!0})},n.setImgLoading=function(e){n.setState({isImgLoading:e})},n}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getListPhotos()}},{key:"render",value:function(){return r.a.createElement(O.Provider,{value:{state:this.state,orderedByOptions:v,getListPhotos:this.getListPhotos,changeOrderedBy:this.changeOrderedBy,changePage:this.changePage,changePageSize:this.changePageSize,handleTermSearch:this.handleTermSearch,updateUserInput:this.updateUserInput,openPhoto:this.openPhoto,closePhoto:this.closePhoto,setImgLoading:this.setImgLoading}},this.props.children)}}]),t}(a.Component),P=n(12),y=n(13),S=n(212),w=n(210);function E(){var e=Object(P.a)(["\n  max-width: 100%;\n  height: auto;\n  display: block\n"]);return E=function(){return e},e}function j(){var e=Object(P.a)(["\n  display: inline-block;\n  width: 100%;\n  margin: 0 0 2px;\n  &:hover {\n    box-shadow: 0 2px 8px rgba(0,0,0,0.30);\n    border-color: rgba(0,0,0,0.09);\n    cursor: pointer;\n  }\n"]);return j=function(){return e},e}var x=y.a.div(j()),L=y.a.img(E()),k=function(e){var t=e.photo,n=e.openPhoto;return r.a.createElement(x,{onClick:function(){return n(t)}},r.a.createElement(L,{alt:"photo",src:t.urls.regular}))},I=n(8),B=n(209);function z(){var e=Object(P.a)(["\n  display: flex;\n  height: 100vh;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n"]);return z=function(){return e},e}var C=y.a.div(z()),T=r.a.createElement(I.a,{type:"loading",style:{fontSize:24},spin:!0}),q=function(){return r.a.createElement(C,null,r.a.createElement(B.a,{indicator:T}))},G=function(){return r.a.createElement(C,null,"Something went wrong")},U=function(){return r.a.createElement(C,null,"No result")};function J(){var e=Object(P.a)(["\n  height: 100%;\n  width: 100%;\n"]);return J=function(){return e},e}var W=y.a.img(J()),A=function(e){var t=e.url,n=e.handleOnLoad;return r.a.createElement(W,{src:t,onLoad:function(){n(!1)}})};function D(){var e=Object(P.a)(["\n  .ant-modal-body {\n    padding: 0px;\n  }\n  .ant-modal-content {\n    background-color: transparent;\n    box-shadow: none;\n  }\n"]);return D=function(){return e},e}function F(){var e=Object(P.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n"]);return F=function(){return e},e}function M(){var e=Object(P.a)(["\n  column-count: 3;\n"]);return M=function(){return e},e}var N=y.a.div(M()),R=y.a.div(F()),V=Object(y.a)(S.a)(D()),$=function(){var e=Object(a.useContext)(O),t=e.state,n=e.changePageSize,o=e.changePage,c=e.openPhoto,i=e.closePhoto,u=e.setImgLoading;return t.error?r.a.createElement(G,null):t.loading?r.a.createElement(q,null):t.loading||t.photos.length?(console.log(t),r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null,r.a.createElement(V,{centered:!0,width:"32%",footer:null,closable:!1,onCancel:function(e){return i()},visible:t.isPhotoOpened},t.isPhotoOpened&&t.isImgLoading&&r.a.createElement(q,null),t.isPhotoOpened&&r.a.createElement(A,{url:t.photo.urls.full,handleOnLoad:u})),t.photos.map(function(e){return r.a.createElement(k,{photo:e,key:e.id,openPhoto:c})})),r.a.createElement(R,null,r.a.createElement(w.a,{showSizeChanger:!0,total:t.total,defaultCurrent:1,pageSize:t.pageSize,pageSizeOptions:["10","20","30"],current:t.currentPage,onChange:function(e){o(e)},onShowSizeChange:function(e,t){n(t)}})))):r.a.createElement(U,null)},H=n(211).a.Search,K=function(){var e=Object(a.useContext)(O),t=e.state,n=e.handleTermSearch,o=e.updateUserInput;return r.a.createElement(H,{enterButton:!0,style:{width:"40%"},placeholder:"search here...",onChange:function(e){return o(e.target.value)},onSearch:function(e){return n(e)},value:t.userInput})},Q=n(46),X=Q.a.Option,Y=function(){var e=Object(a.useContext)(O),t=e.changeOrderedBy,n=e.orderedByOptions;return r.a.createElement(Q.a,{defaultValue:n[0],placeholder:"Ordered By",style:{marginLeft:"10px",width:150}},n.map(function(e){return r.a.createElement(X,{key:e,value:e,onClick:function(){return t(e)}},e)}))};function Z(){var e=Object(P.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  margin: 10px;\n"]);return Z=function(){return e},e}var _=y.a.div(Z()),ee=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(_,null,r.a.createElement(K,null),r.a.createElement(Y,null))}}]),t}(a.Component);function te(){var e=Object(P.a)(["\n  padding: 15px;\n"]);return te=function(){return e},e}var ne=y.a.div(te()),ae=function(){return r.a.createElement(ne,null,r.a.createElement(ee,null),r.a.createElement($,null))},re=(n(207),function(){return r.a.createElement(b,null,r.a.createElement(ae,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[119,1,2]]]);
//# sourceMappingURL=main.0337fe30.chunk.js.map