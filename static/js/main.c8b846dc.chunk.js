(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,n){e.exports=n(208)},124:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(4),c=n.n(o),u=(n(124),n(48)),i=n.n(u),l=n(80),s=n(55),h=n(56),d=n(63),p=n(57),f=n(64),g=n(107),m=new(n.n(g).a)({applicationId:"8f3df15296907de99132e2257dea5c4a9e16dbe87e7ae9e078ee0c543cd7c66f",secret:"ccff5c77adf78b52dc5e546678fbaa8365874b901ea8154df139a1995ec6a606"}),v=["popular","oldest","latest"],b=r.a.createContext(),y=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={currentPage:1,pageSize:10,orderedBy:v[0],photos:[],loading:!0,error:!1,queryTerm:"",userInput:"",isPhotoOpened:!1,total:0,photo:null},n.getListPhotos=Object(l.a)(i.a.mark(function e(){var t,a,r,o,c,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),t=n.state,a=t.currentPage,r=t.pageSize,o=t.orderedBy,e.prev=2,e.next=5,m.photos.listPhotos(a,r,o);case 5:return c=e.sent,e.next=8,c.json();case 8:u=e.sent,n.setState({photos:u,loading:!1,total:100}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),n.setState({loading:!1,error:!0}),console.log(e.t0);case 16:case"end":return e.stop()}},e,null,[[2,12]])})),n.searchPhotosByTerm=function(){var e=Object(l.a)(i.a.mark(function e(t){var a,r,o,c,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),a=n.state,r=a.currentPage,o=a.pageSize,e.prev=2,e.next=5,m.search.photos(t,r,o);case 5:return c=e.sent,e.next=8,c.json();case 8:u=e.sent,console.log("searchResult: ",u),n.setState({total:u.total,photos:u.results,loading:!1}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),n.setState({loading:!1,error:!0}),console.log(e.t0);case 17:case"end":return e.stop()}},e,null,[[2,13]])}));return function(t){return e.apply(this,arguments)}}(),n.handleTermSearch=function(e){n.setState({queryTerm:e}),n.searchOrGet(e,!0)},n.searchOrGet=function(e,t){t?n.setState({currentPage:1},function(){e?n.searchPhotosByTerm(e):n.getListPhotos()}):e?n.searchPhotosByTerm(e):n.getListPhotos()},n.updateUserInput=function(e){n.setState({userInput:e})},n.changeOrderedBy=function(e){n.setState({orderedBy:e,currentPage:1,userInput:"",queryTerm:""},function(){n.getListPhotos()})},n.changePageSize=function(e){n.setState({pageSize:e},function(){var e=n.state.queryTerm;n.searchOrGet(e)})},n.changePage=function(e){n.setState({currentPage:e},function(){var e=n.state.queryTerm;n.searchOrGet(e)})},n.openPhoto=function(e){n.setState({photo:e,isPhotoOpened:!0})},n.closePhoto=function(){n.setState({isPhotoOpened:!1})},n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getListPhotos()}},{key:"render",value:function(){return r.a.createElement(b.Provider,{value:{state:this.state,orderedByOptions:v,getListPhotos:this.getListPhotos,changeOrderedBy:this.changeOrderedBy,changePage:this.changePage,changePageSize:this.changePageSize,handleTermSearch:this.handleTermSearch,updateUserInput:this.updateUserInput,openPhoto:this.openPhoto,closePhoto:this.closePhoto}},this.props.children)}}]),t}(a.Component),O=n(13),P=n(14),S=n(211),E=n(210);function w(){var e=Object(O.a)(["\n  max-width: 100%;\n  height: auto;\n  display: block\n"]);return w=function(){return e},e}function j(){var e=Object(O.a)(["\n  display: inline-block;\n  width: 100%;\n  margin: 0 0 2px;\n  &:hover {\n    box-shadow: 0 2px 8px rgba(0,0,0,0.30);\n    border-color: rgba(0,0,0,0.09);\n    cursor: pointer;\n  }\n"]);return j=function(){return e},e}var x=P.a.div(j()),k=P.a.img(w()),B=function(e){var t=e.photo,n=e.openPhoto;return r.a.createElement(x,{onClick:function(){return n(t)}},r.a.createElement(k,{alt:"photo",src:t.urls.regular}))},z=n(8),C=n(209);function T(){var e=Object(O.a)(["\n  display: flex;\n  height: 100vh;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n"]);return T=function(){return e},e}var I=P.a.div(T()),L=r.a.createElement(z.a,{type:"loading",style:{fontSize:24},spin:!0}),q=function(){return r.a.createElement(I,null,r.a.createElement(C.a,{indicator:L}))},G=function(){return r.a.createElement(I,null,"Something went wrong")},U=function(){return r.a.createElement(I,null,"No result")};function J(){var e=Object(O.a)(["\n  .ant-modal-body {\n    padding: 0px;\n  }\n"]);return J=function(){return e},e}function W(){var e=Object(O.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n"]);return W=function(){return e},e}function A(){var e=Object(O.a)(["\n  column-count: 3;\n"]);return A=function(){return e},e}var D=Object(a.lazy)(function(){return n.e(3).then(n.bind(null,213))}),F=P.a.div(A()),M=P.a.div(W()),N=Object(P.a)(S.a)(J()),R=function(){var e=Object(a.useContext)(b),t=e.state,n=e.changePageSize,o=e.changePage,c=e.openPhoto,u=e.closePhoto;return t.error?r.a.createElement(G,null):t.loading?r.a.createElement(q,null):t.loading||t.photos.length?(console.log(t),r.a.createElement(r.a.Fragment,null,r.a.createElement(F,null,r.a.createElement(N,{centered:!0,width:"32%",footer:null,closable:!1,onCancel:function(e){return u()},visible:t.isPhotoOpened},t.isPhotoOpened&&r.a.createElement(a.Suspense,{fallback:r.a.createElement(q,null)},r.a.createElement(D,{url:t.photo.urls.full}))),t.photos.map(function(e){return r.a.createElement(B,{photo:e,key:e.id,openPhoto:c})})),r.a.createElement(M,null,r.a.createElement(E.a,{showSizeChanger:!0,total:t.total,defaultCurrent:1,pageSize:t.pageSize,pageSizeOptions:["10","20","30"],current:t.currentPage,onChange:function(e){o(e)},onShowSizeChange:function(e,t){n(t)}})))):r.a.createElement(U,null)},V=n(212).a.Search,$=function(){var e=Object(a.useContext)(b),t=e.state,n=e.handleTermSearch,o=e.updateUserInput;return r.a.createElement(V,{enterButton:!0,style:{width:"40%"},placeholder:"search here...",onChange:function(e){return o(e.target.value)},onSearch:function(e){return n(e)},value:t.userInput})},H=n(46),K=H.a.Option,Q=function(){var e=Object(a.useContext)(b),t=e.changeOrderedBy,n=e.orderedByOptions;return r.a.createElement(H.a,{defaultValue:n[0],placeholder:"Ordered By",style:{marginLeft:"10px",width:150}},n.map(function(e){return r.a.createElement(K,{key:e,value:e,onClick:function(){return t(e)}},e)}))};function X(){var e=Object(O.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  margin: 10px;\n"]);return X=function(){return e},e}var Y=P.a.div(X()),Z=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(Y,null,r.a.createElement($,null),r.a.createElement(Q,null))}}]),t}(a.Component);function _(){var e=Object(O.a)(["\n  padding: 15px;\n"]);return _=function(){return e},e}var ee=P.a.div(_()),te=function(){return r.a.createElement(ee,null,r.a.createElement(Z,null),r.a.createElement(R,null))},ne=(n(207),function(){return r.a.createElement(y,null,r.a.createElement(te,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[119,1,2]]]);
//# sourceMappingURL=main.c8b846dc.chunk.js.map